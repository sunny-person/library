{% extends 'base.html.twig' %}

{% block title %}Редактирование{% endblock %}

{% block body %}
<div class="pageAdd">

{% if errorMessage is defined %}
    <h4 style="color: #ff4332;">{{ errorMessage }}</h4>
{% endif %}

<h2>Редактируем</h2>
<div class="tab-wrapper">

    <ul class="tab-menu">
    </ul>

    <div class="tab-content">
        <div>

            <form method = "POST" action= "" enctype="multipart/form-data">

                <div class="group">
                    <label for="name"> Название книги: </label>
                    <br><br>
                    <input type="text" name="title" value="{{ book.title }}"/>
                </div>

                <div class="group">
                    <label for="name"> Описание к документу: </label>
                    <br><br>
                    <input type="text" name="description" value="{{ book.description }}"/>
                </div>

                <div class="group">
                    <label for="name">Место расположения: {{ book.url }}</label>
                    <br><br>
                    <input type="file" name="URL" />
                </div>

                <div class="group">
                    <label for="name"> Количество страниц: </label>
                    <br><br>
                    <input type="text" name="page" value="{{ book.page }}"/>
                </div>

                <div class="group">
                    <label for="name"> Год: </label>
                    <br><br>
                    <input type="text" name="year" value="{{ book.year }}"/>
                </div>

                <div class="group">
                    <label for = "name_author">Автор: </label>
                    <br><br>
                    <select name="name_author">
                        {% for author in authors %}
                            <option
                                    value="{{ author.idAuthor }}"
                                    {% if author.idAuthor == book.author.idAuthor %}
                                        selected
                                    {% endif %}
                            >
                                {{ author.nameAuthor }}
                            </option>

                        {% endfor %}
                    </select>
                </div>

                <div class="group">
                    <label for = "city">Город: </label>
                    <br><br>
                    <select name="city">
                    {% for city in cities %}
                        <option
                                value="{{ city.idCity }}"
                                {% if city.idCity == book.city.idCity %}
                                    selected
                                {% endif %}
                        >
                            {{ city.city }}
                        </option>
                    {% endfor %}
                    </select>
                </div>

                <div class="group">
                    <label for = "ph">Издательство: </label>
                    <br><br>
                    <select name="ph">
                        {% for ph in publishingHouses %}
                            <option
                                    value="{{ ph.idPublishingHouse }}"
                                    {% if ph.idPublishingHouse == book.publishingHouse.idPublishingHouse %}
                                        selected
                                    {% endif %}
                            >
                                {{ ph.namePublishingHouse }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="group">
                    <label for = "type_ph">Тип издательства: </label>
                    <br><br>
                    <select name="type_ph">
                        {% for typePh in typePhs %}
                            <option
                                    value="{{ typePh.idTypePh }}"
                                    {% if typePh.idTypePh == book.typePh.idTypePh %}
                                        selected
                                    {% endif %}
                            >
                                {{ typePh.nameTypePh }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="group">
                    <label for = "category">Категория: </label>
                    <br><br>
                    <select name="category">
                        {% for category in categories %}
                            <option
                                    value="{{ category.idCategory }}"
                                    {% if category.idCategory == book.parent.idCategory %}
                                        selected
                                    {% endif %}
                            >
                                {{ category.nameCategory }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <input type="submit" id="save" name="save" value="Сохранить" class="button buttonBlue">
                <br><br>

                <input type="submit" id="del" name="del" value="Удалить книгу" class="button buttonBluedel">
            </form>
        </div>

    </div>

</div>

{% block javascripts %}
<!--<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>-->
<script src="{{ asset('js/jquery-3.3.1.min.js') }}"></script>
<script src="{{ asset('js/script.js') }}"></script>
{% endblock %}

</div>

{% endblock %}