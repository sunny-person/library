{% extends 'reader/base_reader.html.twig' %}

 {% block title %} DjVu: {{ book.title }}{% endblock %}

 {% block body %}
     <h2 class="title">Чтение книги "{{ book.title }}"</h2>
     <div class="loading"></div>
     <div class="reader container mb-5">
         <div class="pdf_header">
             <ul class="navigation">
                 <li class="navigation__item">
                     <div class="reader-pager">

                         <button id="go_previous" class="btn previous">
                             <i class="fa fa-arrow-left"></i>
                         </button>

                         <input id="current_page" value="1" type="number"/>

                         <button id="go_next" class="btn previous">
                             <i class="fa fa-arrow-right"></i>
                         </button>

                     </div>

                     <div class="reader-current-page">
                         Страница <span id="page_num"></span> из
                         <span id="page_count"></span>
                     </div>
                 </li>

                 <!-- Zoom In and Out -->
{#                 <li class="navigation__item row">#}
{#                     <div class="button-wrapper col col-6">#}
{#                         <button id="zoom_in" class="btn center-block zoom">#}
{#                             <i class="fa fa-search-plus"></i>#}
{#                         </button>#}
{#                     </div>#}
{#                     <div class="button-wrapper col col-6">#}
{#                         <button id="zoom_out" class="btn center-block zoom">#}
{#                             <i class="fa fa-search-minus"></i>#}
{#                         </button>#}
{#                     </div>#}
{#                 </li>#}

             </ul>
         </div>

         <input id="url" type="hidden" value="{{ asset('upload_files/' ~ book.url) }}">

         <div id="djvucanvas">
             <div class="row">
                 <div class="col-lg-12 col-xs-4">
                     <canvas id="djvu_renderer" class="canvas__container"></canvas>
                 </div>
             </div>
         </div>
     </div>
 {% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/header_script.js') }}"></script>
    <script src="{{ asset('js/djvu.js') }}"></script>
    <script src="{{ asset('js/djvu_viewer.js') }}"></script>
    <script src="{{ asset('js/userinfocontroller.js') }}"></script>
    <script src="{{ asset('js/reader/DjvuReader.js') }}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function () {
            const userInfoController = new UserInfoController('{{ user.id_users }}', '{{ book.idBooks }}');
            djvuState.Init(null, 1, 0.5, userInfoController);
        });
    </script>
{% endblock %}